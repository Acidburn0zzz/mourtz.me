<!DOCTYPE html>
<html lang="en">

<head>
    <title>Alex &#183; Mourtziapis</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <link rel="icon" href="../../favicon.jpg" type="img/portfolio/x-icon">
    <link rel="shortcut icon" href="../../favicon.jpg" type="img/portfolio/x-icon">

    <meta name="keywords" content="gamedev, creative, connection, shunless" />
    <meta name="description" content="Eye Candy." />

    <!--  Font Awesome  -->
    <link href="../../css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../../css/index.css">

    <header>
        <div class="name">Alex</div>
        <div class="surname">Mourtziapis</div>
        <div class="title">Software Developer</div>
    </header>

</head>

<style>
    content {
        font-size: 14px;
        font-family: monospace;
    }

    #piano_tiles_restart_btn {
        transform: translate(0px, -620px);
    }
</style>

<body>
    <nav>
        <a href="../projects/">Projects</a>
        <a href="../../">Blog</a>
        <a href="../eyecandy/">Eye Candy</a>
        <a href="mailto:alex.mourtziapis@gmail.com">Contact</a>

        <div class="social">
            <a href="https://github.com/Mourtz" target="_blank"><i class="fa fa-github"></i></a>
            <a href="https://twitter.com/mourtz_alex" target="_blank"><i class="fa fa-twitter"></i></a>
            <a href="https://www.linkedin.com/in/mourtz" target="_blank"><i class="fa fa-linkedin"></i></a>
            <a href="http://stackoverflow.com/users/4205263/alex-mourtziapis" target="_blank"><i class="fa fa-stack-overflow"></i></a>
        </div>
    </nav>

    <content id="content-wrapper">
        <h1>Piano Tiles Grid <h4><u>6/4/2016</u></h4></h1>
        <canvas id="pianoTiles" data-fragment-url="../../shaders/shader3.glsl" width="360" height="640"></canvas>
        <button class="btn btn-default" id="piano_tiles_restart_btn" onclick="load_all_GlslCanvas(0)">Reset</button>
        <br>
        <h1>PacMan <h4><u>16/8/2015</u></h4></h1>
        <canvas id="PacMan" data-fragment-url="../../shaders/shader2.glsl" width="640" height="120"></canvas>
        <br>
        <a href="../../shaders/shader2.glsl"><i class="fa fa-file-code-o fa-2x"></i></a>
        <h1>A radom pattern cycling through all RGB values.<h4><u>13/8/2015</u></h4></h1>
        <canvas id="R-Pattern" data-fragment-url="../../shaders/shader0.glsl" width="640" height="640"></canvas>
        <br>
        <a href="../../shaders/shader0.glsl"><i class="fa fa-file-code-o fa-2x"></i></a>
        <h1>Checkerboard Effect.<h4><u>13/8/2015</u></h4></h1>
        <canvas id="checkerboard" data-fragment-url="../../shaders/shader1.glsl" width="640" height="640"></canvas>
        <br>
        <a href="../../shaders/shader1.glsl"><i class="fa fa-file-code-o fa-2x"></i></a>
    </content>

    <!-- jQuery -->
    <script src="../../lib/jquery.min.js"></script>

    <!-- jQuery Easing -->
    <script src="../../lib/jquery.easing.min.js"></script>

    <!-- GLSL canvas -->
    <script src="../../lib/GlslCanvas.min.js"></script>

    <!--  marked js  -->
    <script src="../../lib/marked.min.js"></script>

    <!-- index -->
    <script src="../../js/index.js"></script>

    <script>
        //
        window.onload = function () {
            load_all_GlslCanvas();
            render_all_GlslCanvas();
        };

        // Keep track of the mouse
        var mouse = {
            x: 0,
            y: 0
        };
        document.addEventListener('mousemove', function (e) {
            mouse.x = e.clientX || e.pageX;
            mouse.y = e.clientY || e.pageY
        }, false);

        // Provides requestAnimationFrame in a cross browser way.
        window.requestAnimFrame = (function () {
            return window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                window.oRequestAnimationFrame ||
                window.msRequestAnimationFrame ||
                function (callback, element) {
                    return window.setTimeout(callback, 1000 / 60);
                };
        })();

        var billboards = [];
        var list = document.getElementsByTagName("canvas");
        var pianoTilesID;

        function load_all_GlslCanvas(id) {
            var tiles_pos = [];
            var zz = 0;
            if (id === undefined) {
                // Load shaders on canvas
                for (var i = 0; i < list.length; i++) {
                    var sandbox = new GlslCanvas(list[i]);

                    if (list[i].id === "pianoTiles") {
                        // compute random position for our tiles
                        tiles_pos[0] = getRandomInt(1, 3);
                        while (zz < 32) {
                            var x = getRandomInt(1, 3);
                            while (x === tiles_pos[tiles_pos.length - 1]) {
                                x = getRandomInt(1, 3);
                            }
                            tiles_pos.push(x);
                            zz++;
                        }
                        sandbox.uniform('1iv', 'int', "u_piano_tiles", tiles_pos);
                        pianoTilesID = i;
                    }

                    if (sandbox.isValid) {
                        billboards.push(sandbox);
                    }
                }
                billboards[pianoTilesID].canvas.onmouseup = function () {
                    billboards[pianoTilesID].uniform('1i', 'bool', "u_mouse_down", 0);
                };
                billboards[pianoTilesID].canvas.onmousedown = function () {
                    billboards[pianoTilesID].uniform('1i', 'bool', "u_mouse_down", 1);
                };
            } else {
                if (list[id].id === "pianoTiles") {
                    // compute random position for our tiles
                    tiles_pos[0] = getRandomInt(1, 3);
                    while (zz < 32) {
                        var x = getRandomInt(1, 3);
                        while (x === tiles_pos[tiles_pos.length - 1]) {
                            x = getRandomInt(1, 3);
                        }
                        tiles_pos.push(x);
                        zz++;
                    }
                    billboards[id].uniform('1iv', 'int', "u_piano_tiles", tiles_pos);
                }
            }
        }

        function render_all_GlslCanvas() {
            for (var i = 0; i < billboards.length; i++) {
                if (elementInViewport(list[i])) {
                    billboards[i].setMouse(mouse);
                    billboards[i].render();
                }
            }
            window.requestAnimFrame(render_all_GlslCanvas);
        }

        function elementInViewport(el) {
            var top = el.offsetTop;
            var left = el.offsetLeft;
            var width = el.offsetWidth;
            var height = el.offsetHeight;

            while (el.offsetParent) {
                el = el.offsetParent;
                top += el.offsetTop;
                left += el.offsetLeft;
            }

            return (
                top < (window.pageYOffset + window.innerHeight) &&
                left < (window.pageXOffset + window.innerWidth) &&
                (top + height) > window.pageYOffset &&
                (left + width) > window.pageXOffset
            );
        }
    </script>

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-66672624-1', 'auto');
        ga('send', 'pageview');
    </script>
</body>

</html>
